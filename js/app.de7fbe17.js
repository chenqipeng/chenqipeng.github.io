(function(t){function e(e){for(var a,s,c=e[0],i=e[1],u=e[2],l=0,h=[];l<c.length;l++)s=c[l],r[s]&&h.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);p&&p(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={1:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=i;o.push([6,0]),n()})({6:function(t,e,n){t.exports=n("Vtdi")},"7EbL":function(t,e,n){},"BNW/":function(t,e,n){"use strict";var a=n("EhRO"),r=n.n(a);r.a},EhRO:function(t,e,n){},GMLI:function(t,e,n){},"Nd1+":function(t,e,n){"use strict";var a=n("GMLI"),r=n.n(a);r.a},PCCH:function(t,e,n){"use strict";var a=n("YhU3"),r=n.n(a);r.a},VhOD:function(t,e,n){"use strict";var a=n("sTEK"),r=n.n(a);r.a},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var a=n("Kw5r"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s={name:"App",created:function(){this.initData()},methods:{initData:function(){this.$store.dispatch("setArchivesRemote"),this.$store.dispatch("setAttrRemote")}}},c=s,i=(n("ZCWV"),n("KHd+")),u=Object(i["a"])(c,r,o,!1,null,null,null),p=u.exports,l=n("jE9Z"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("AppHeader",{staticClass:"app-header"}),n("router-view",{staticClass:"archives",attrs:{name:"archives"}}),n("router-view",{staticClass:"post",attrs:{name:"post"}})],1)},f=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header-container"},[t._m(0),n("div",{staticClass:"nav-item"},[n("span",{staticClass:"nav-btn"},[t._v("Tags")]),n("ul",{staticClass:"nav-expand-list"},t._l(t.tags,function(e,a){return n("li",{key:a},[n("a",{attrs:{href:"/#/tag/"+e}},[t._v(t._s(e))])])}))]),n("div",{staticClass:"nav-item"},[n("span",{staticClass:"nav-btn"},[t._v("Categories")]),n("ul",{staticClass:"nav-expand-list"},t._l(t.categories,function(e,a){return n("li",{key:a},[n("a",{attrs:{href:"/#/category/"+e}},[t._v(t._s(e))])])}))]),t._m(1)])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"nav-item",attrs:{href:"/#/"}},[n("span",{staticClass:"nav-btn"},[t._v("Home")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"nav-item",attrs:{href:"/#/about"}},[n("span",{staticClass:"nav-btn"},[t._v("About")])])}],g=n("yT7P"),d=n("L2JU"),y={name:"AppHeader",computed:Object(g["a"])({},Object(d["b"])({tags:"getTags",categories:"getCategories"}))},b=y,_=(n("BNW/"),Object(i["a"])(b,v,m,!1,null,"28c995f6",null)),C=_.exports,j={name:"home",components:{AppHeader:C}},O=j,w=(n("VhOD"),Object(i["a"])(O,h,f,!1,null,null,null)),x=w.exports,A=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],M={},P=Object(i["a"])(M,A,E,!1,null,null,null),q=P.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(t._s(t.postData.attributes.title))]),n("p",[t._v(t._s(t.postData.attributes.categories.join(",")))]),n("p",[t._v(t._s(t.postData.attributes.tags.join(",")))]),n("div",{staticClass:"md markdown-body",attrs:{id:"md"},domProps:{innerHTML:t._s(t.postData.body)}})])},T=[],k=(n("f3/d"),"chenqipeng"),D="pages",H="master:",B="posts/archives/",R="posts/attr.json",S={queryArchives:function(){return'\n      query {\n        repository(owner: "'.concat(k,'", name: "').concat(D,'") {\n          object(expression: "').concat(H+B,'") {\n            ... on Tree {\n              entries {\n                name\n              }\n            }\n          }\n        }\n      }\n    ')},queryPost:function(t){return'\n      query {\n        repository(owner: "'.concat(k,'", name: "').concat(D,'") {\n          object(expression: "').concat(H+B+t,'.md") {\n            ... on Blob {\n              text\n            }\n          }\n        }\n      }\n    ')},queryAttr:function(){return'\n      query {\n        repository(owner: "'.concat(k,'", name: "').concat(D,'") {\n          object(expression: "').concat(H+R,'") {\n            ... on Blob {\n              text\n            }\n          }\n        }\n      }\n    ')}},V=n("1M3H"),L=n.n(V),N=n("PoCv"),W=n.n(N),G=n("FIf5"),I=n.n(G),J={name:"Post",data:function(){return{postData:{attributes:{title:"",date:"",categories:[],tags:[]},body:""}}},created:function(){this.queryPostData()},beforeRouteUpdate:function(t,e,n){n(),this.queryPostData()},methods:{queryPostData:function(){var t=this,e=S.queryPost(this.$route.params.name);this.httpClient.request(e).then(function(e){var n=new L.a({highlight:function(t,e){if(e&&I.a.getLanguage(e))try{return I.a.highlight(e,t).value}catch(t){console.error("highlight error :(")}return""}}),a=W()(e.repository.object.text);a.body=n.render(a.body),t.postData=a}).catch(function(t){console.log(t)})}}},K=J,U=(n("Nd1+"),Object(i["a"])(K,$,T,!1,null,null,null)),F=U.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"posts-list"},t._l(t.archivesData,function(e){return n("li",{key:e.name},[n("span",{attrs:{title:e.name},on:{click:function(n){t.checkPost(e.name)}}},[t._v(t._s(e.name))])])}))},z=[],Y={name:"Archives",props:{tag:{type:String,default:""},category:{type:String,default:""}},computed:{archivesData:function(){return this.tag?(this.$store.getters.getArchivesByTag(this.tag)||[]).map(function(t){return{name:t}}):this.category?(this.$store.getters.getArchivesBycategory(this.category)||[]).map(function(t){return{name:t}}):this.$store.state.archives}},methods:{checkPost:function(t){this.$router.push("/post/"+t)}}},Q=Y,X=(n("PCCH"),Object(i["a"])(Q,Z,z,!1,null,"edc0ba0c",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("not found 404")])},nt=[],at={name:"NotFound"},rt=at,ot=(n("skjH"),Object(i["a"])(rt,et,nt,!1,null,null,null)),st=ot.exports;a["a"].use(l["a"]);var ct=new l["a"]({routes:[{path:"*",name:"not_found",component:st},{path:"/",component:x,children:[{path:"",name:"home",components:{archives:tt}},{path:"tag/:tag",name:"tag",components:{archives:tt},props:{archives:!0}},{path:"category/:category",name:"category",components:{archives:tt},props:{archives:!0}},{path:"post/:name",name:"post",components:{archives:tt,post:F},props:{archives:!0,post:!0}}]},{path:"/about",name:"about",component:q}]}),it=(n("pIFo"),n("rGqo"),n("yt8O"),n("RW0V"),n("1hnV")),ut="https://api.github.com/graphql",pt="bearer 1fcd6d38878f79c0f92203d5369d9efcece042be",lt=new it["GraphQLClient"](ut,{headers:{Authorization:pt}});a["a"].use(d["a"]);var ht=new d["a"].Store({state:{tagMap:{},categoryMap:{},archives:[]},getters:{getTags:function(t){return Object.keys(t.tagMap)},getCategories:function(t){return Object.keys(t.categoryMap)},getArchivesByTag:function(t){return function(e){return t.tagMap[e]}},getArchivesBycategory:function(t){return function(e){return t.categoryMap[e]}}},mutations:{setTagMap:function(t,e){t.tagMap=e},setCategoryMap:function(t,e){t.categoryMap=e},setArchives:function(t,e){t.archives=e}},actions:{setArchivesRemote:function(t){var e=t.commit,n=S.queryArchives();lt.request(n).then(function(t){var n=t.repository.object.entries.map(function(t){return t.name=t.name.replace(".md",""),t});e("setArchives",n)}).catch(function(t){console.log(t)})},setAttrRemote:function(t){var e=t.commit,n=S.queryAttr();lt.request(n).then(function(t){var n=JSON.parse(t.repository.object.text),a={},r={};n.forEach(function(t){t.tags.forEach(function(e){a[e]||(a[e]=[]),a[e].push(t.title)}),t.categories.forEach(function(e){r[e]||(r[e]=[]),r[e].push(t.title)})}),e("setTagMap",a),e("setCategoryMap",r)}).catch(function(t){console.log(t)})}}});a["a"].config.productionTip=!1,a["a"].prototype.httpClient=lt,new a["a"]({router:ct,store:ht,render:function(t){return t(p)}}).$mount("#app")},YhU3:function(t,e,n){},ZCWV:function(t,e,n){"use strict";var a=n("7EbL"),r=n.n(a);r.a},sTEK:function(t,e,n){},skjH:function(t,e,n){"use strict";var a=n("t5Bk"),r=n.n(a);r.a},t5Bk:function(t,e,n){}});
//# sourceMappingURL=app.de7fbe17.js.map