<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="/css/style.css"><title>Stuff</title></head><body><header><nav><div class="header-nav-item"><div><a href="/">Stuff</a></div></div><div class="header-nav-item"><div>Categories</div><ul><li><a href="/categories/stuff">stuff</a></li></ul></div><div class="header-nav-item"><div>Tags</div><ul><li><a href="/tags/Javascript">JavascriptJavascriptJavascript</a></li><li><a href="/tags/DOM">DOMDOMDOM</a></li><li><a href="/tags/Event">EventEventEvent</a></li><li><a href="/tags/Markdown">MarkdownMarkdownMarkdown</a></li><li><a href="/tags/CSS">CSSCSSCSS</a></li><li><a href="/tags/计算机原理">计算机原理计算机原理计算机原理</a></li></ul></div></nav></header><main><article><h2>null 与 0 的比较判断</h2><div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//val值得可能为数字类型或null</span></span><br><span class="line"><span class="keyword">return</span> val &gt;= <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>以上代码原本期望当<code>val</code>为<code>null</code>时，会返回<code>false</code>，结果并不是，而是返回了<code>true</code><br>然后我尝试了以下代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> A = <span class="literal">null</span> &gt; <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> B = <span class="literal">null</span> == <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> C = <span class="literal">null</span> &gt;= <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(A, B, C) <span class="comment">//false,false,true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>null</code>不大于0，不等于0，反而大于等于0？</p>
</blockquote>
<p>查阅标准文档，关于关系运算符的算法规则有以下：<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.8.5" target="_blank" rel="noopener">The Abstract Relational Comparison Algorithm</a></p>
<ul>
<li>两边在算其数字值时参照<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.3" target="_blank" rel="noopener">ToNumber</a>。注意，这里<code>null</code>算出+0。</li>
<li>以<code>&lt;</code>运算符为基础，<code>&gt;</code>运算为其右运算结果，<code>&lt;=</code>运算为<code>&gt;</code>运算结果的反值，<code>&gt;=</code>运算为<code>&lt;</code>运算结果的反值<blockquote>
<p>If r is true or undefined, return false. Otherwise, return true.</p>
</blockquote>
</li>
</ul>
<p>根据以上两点，可以得出结论：</p>
<ol>
<li>求<code>null &gt;= 0</code>，即求<code>null &lt; 0</code>结果的反值</li>
<li><code>null &lt; 0</code>结果为false，则<code>null &gt;= 0</code>结果为true</li>
</ol>
<p>至于<code>null == 0</code>，这个是等值运算符的算法规则计算，有别于关系运算符</p>
</div></article></main><footer> </footer></body></html>